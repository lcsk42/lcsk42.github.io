<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="å¯¹å®˜ç½‘å†…å®¹çš„ç®€å•ç¿»è¯‘"><title>OGNL Language Guide</title>
<link rel=canonical href=https://www.lcsk42.com/post/ognl-language-guide/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="OGNL Language Guide"><meta property='og:description' content="å¯¹å®˜ç½‘å†…å®¹çš„ç®€å•ç¿»è¯‘"><meta property='og:url' content='https://www.lcsk42.com/post/ognl-language-guide/'><meta property='og:site_name' content="Lucas's Article"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='OGNL'><meta property='article:tag' content='Arthas'><meta property='article:published_time' content='2024-03-23T09:39:46+08:00'><meta property='article:modified_time' content='2024-03-23T09:39:46+08:00'><meta name=twitter:title content="OGNL Language Guide"><meta name=twitter:description content="å¯¹å®˜ç½‘å†…å®¹çš„ç®€å•ç¿»è¯‘"><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_b46f367e8ae3a2b0.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ« </span></figure><div class=site-meta><h1 class=site-name><a href=/>Lucas's Article</a></h1><h2 class=site-description>Life is short; meeting you is the best fortune.</h2></div></header><ol class=menu-social><li><a href=https://github.com/lcsk42 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:lcsk42@gmail.com target=_blank title=Mail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://x.com/lcsk42 target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/about/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-pagekit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12.077 20H7V4h11v14h-5.077"/></svg>
<span>About</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#syntaxè¯­æ³•>Syntax(è¯­æ³•)</a></li><li><a href=#expressionsè¡¨è¾¾å¼>Expressions(è¡¨è¾¾å¼)</a><ol><li><a href=#constantså¸¸é‡>Constants(å¸¸é‡)</a></li><li><a href=#referring-to-propertieså¼•ç”¨å±æ€§>Referring to Properties(å¼•ç”¨å±æ€§)</a></li><li><a href=#indexingç´¢å¼•>Indexing(ç´¢å¼•)</a></li></ol></li><li><a href=#calling-methodsè°ƒç”¨æ–¹æ³•>Calling Methods(è°ƒç”¨æ–¹æ³•)</a></li><li><a href=#variable-referenceså˜é‡å¼•ç”¨>Variable References(å˜é‡å¼•ç”¨)</a></li><li><a href=#parenthetical-expressionsæ‹¬å·è¡¨è¾¾å¼>Parenthetical Expressions(æ‹¬å·è¡¨è¾¾å¼)</a></li><li><a href=#chained-subexpressionsé“¾æ¥å­è¡¨è¾¾å¼>Chained Subexpressions(é“¾æ¥å­è¡¨è¾¾å¼)</a></li><li><a href=#collection-constructioné›†åˆç»“æ„>Collection Construction(é›†åˆç»“æ„)</a><ol><li><a href=#listsåˆ—è¡¨>Lists(åˆ—è¡¨)</a></li></ol></li><li><a href=#native-arraysåŸç”Ÿæ•°ç»„>Native Arrays(åŸç”Ÿæ•°ç»„)</a><ol><li><a href=#mapsæ˜ å°„>Maps(æ˜ å°„)</a></li></ol></li><li><a href=#projecting-across-collectionsè·¨é›†åˆæŠ•å½±>Projecting Across Collections(è·¨é›†åˆæŠ•å½±)</a></li><li><a href=#selecting-from-collectionsä»é›†åˆä¸­é€‰æ‹©>Selecting From Collections(ä»é›†åˆä¸­é€‰æ‹©)</a><ol><li><a href=#selecting-first-matché€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹>Selecting First Match(é€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹)</a></li><li><a href=#selecting-last-matché€‰æ‹©æœ€åä¸€ä¸ªåŒ¹é…é¡¹>Selecting Last Match(é€‰æ‹©æœ€åä¸€ä¸ªåŒ¹é…é¡¹)</a></li></ol></li><li><a href=#calling-constructorsè°ƒç”¨æ„é€ å‡½æ•°>Calling Constructors(è°ƒç”¨æ„é€ å‡½æ•°)</a></li><li><a href=#calling-static-methodsè°ƒç”¨é™æ€æ–¹æ³•>Calling Static Methods(è°ƒç”¨é™æ€æ–¹æ³•)</a></li><li><a href=#getting-static-fieldsè·å–é™æ€å­—æ®µ>Getting Static Fields(è·å–é™æ€å­—æ®µ)</a></li><li><a href=#expression-evaluationè¡¨è¾¾å¼æ±‚å€¼>Expression Evaluation(è¡¨è¾¾å¼æ±‚å€¼)</a></li><li><a href=#pseudo-lambda-expressionsä¼ª-lambda-è¡¨è¾¾å¼>Pseudo-Lambda Expressions(ä¼ª Lambda è¡¨è¾¾å¼)</a></li><li><a href=#pseudo-properties-for-collectionsé›†åˆçš„ä¼ªå±æ€§>Pseudo-Properties for Collections(é›†åˆçš„ä¼ªå±æ€§)</a></li><li><a href=#operators-that-differ-from-javas-operatorsä¸-java-ä¸åŒçš„è¿ç®—ç¬¦>Operators that differ from Java&rsquo;s operators(ä¸ Java ä¸åŒçš„è¿ç®—ç¬¦)</a></li><li><a href=#setting-values-versus-getting-valuesè®¾ç½®å€¼ä¸è·å–å€¼>Setting values versus getting values(è®¾ç½®å€¼ä¸è·å–å€¼)</a></li><li><a href=#coercing-objects-to-typeså¼ºè½¬å¯¹è±¡ç±»å‹>Coercing Objects to Types(å¼ºè½¬å¯¹è±¡ç±»å‹)</a><ol><li><a href=#interpreting-objects-as-booleanså°†å¯¹è±¡è½¬ä¹‰ä¸ºå¸ƒå°”å€¼>Interpreting Objects as Booleans(å°†å¯¹è±¡è½¬ä¹‰ä¸ºå¸ƒå°”å€¼)</a></li><li><a href=#interpreting-objects-as-numberså°†å¯¹è±¡è½¬ä¹‰ä¸ºæ•°å­—>Interpreting Objects as Numbers(å°†å¯¹è±¡è½¬ä¹‰ä¸ºæ•°å­—)</a></li><li><a href=#interpreting-objects-as-integerså°†å¯¹è±¡è½¬ä¹‰ä¸ºæ•´æ•°>Interpreting Objects as Integers(å°†å¯¹è±¡è½¬ä¹‰ä¸ºæ•´æ•°)</a></li><li><a href=#interpreting-objects-as-collectionså°†å¯¹è±¡è½¬ä¹‰ä¸ºé›†åˆ>Interpreting Objects as Collections(å°†å¯¹è±¡è½¬ä¹‰ä¸ºé›†åˆ)</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/dev/>Dev</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/ognl-language-guide/>OGNL Language Guide</a></h2><h3 class=article-subtitle>å¯¹å®˜ç½‘å†…å®¹çš„ç®€å•ç¿»è¯‘</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 23, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>22 minute read</time></div></footer></div></header><section class=article-content><p>ç¿»è¯‘è‡ª<a class=link href=https://commons.apache.org/dormant/commons-ognl/language-guide.html target=_blank rel=noopener>Apache å®˜ç½‘ OGNL</a>çš„è¯­è¨€æŒ‡å—ã€‚</p><blockquote><p>Object-Graph Navigation Language (OGNL) is an open-source Expression Language (EL) for Java, which, while using simpler expressions than the full range of those supported by the Java language, allows getting and setting properties (through defined setProperty and getProperty methods, found in JavaBeans), and execution of methods of Java classes. It also allows for simpler array manipulation.</p><p>&ndash; <a class=link href=https://en.wikipedia.org/wiki/OGNL target=_blank rel=noopener>Wikipedia OGNL</a></p></blockquote><p>å¯¹è±¡å›¾å¯¼èˆªè¯­è¨€(OGNL)æ˜¯ Java çš„å¼€æºè¡¨è¾¾å¼è¯­è¨€(EL)ï¼Œå®ƒæ˜¯æ‰€æœ‰ Java è¯­è¨€æ”¯æŒèŒƒå›´ä¸­æœ€ç®€å•çš„è¡¨è¾¾å¼ï¼Œå®ƒå…è®¸è·å–å’Œè®¾ç½®å±æ€§(é€šè¿‡ JavaBeans ä¸­å®šä¹‰çš„ setProperty å’Œ getProperty æ–¹æ³•)ä»¥åŠæ‰§è¡Œ Java ç±»çš„æ–¹æ³•ã€‚å®ƒè¿˜å…è®¸æ›´ç®€å•çš„æ•°ç»„æ“ä½œã€‚</p><h2 id=syntaxè¯­æ³•>Syntax(è¯­æ³•)</h2><blockquote><p>Basic OGNL expressions are very simple. The language has become quite rich with features, but you don&rsquo;t generally need to worry about the more complicated parts of the language: the simple cases have remained that way. For example, to get at the name property of an object, the OGNL expression is simply name. To get at the text property of the object returned by the headline property, the OGNL expression is headline.text.</p></blockquote><p>åŸºç¡€çš„ OGNL è¡¨è¾¾å¼éå¸¸ç®€å•ï¼Œè™½ç„¶è¯¥è¯­è¨€ç°åœ¨çš„ç‰¹æ€§å·²ç»å˜å¾—éå¸¸ä¸°å¯Œï¼Œä½†æ˜¯ä½ é€šå¸¸ä¸éœ€è¦æ‹…å¿ƒè¯­è¨€ä¸­æ›´å¤æ‚çš„éƒ¨åˆ†ï¼šç®€å•çš„æƒ…å†µä¸‹è·Ÿä¹‹å‰æ˜¯ä¸€æ ·çš„ã€‚ä¾‹å¦‚ï¼šè¦è·å–å¯¹è±¡çš„ name å±æ€§ï¼ŒOGNL çš„è¡¨è¾¾å¼å°±æ˜¯ç®€å•çš„ nameã€‚è¦è·å– headline å±æ€§ä¸­çš„æ–‡æœ¬å¯¹è±¡ï¼ŒOGNL çš„è¡¨è¾¾å¼å°±æ˜¯ headline.textã€‚</p><blockquote><p>What is a property? Roughly, an OGNL property is the same as a bean property, which means that a pair of get/set methods, or alternatively a field, defines a property (the full story is a bit more complicated, since properties differ for different kinds of objects; see below for a full explanation).</p></blockquote><p>ä»€ä¹ˆæ˜¯å±æ€§å‘¢ï¼Ÿå¤§è‡´æ¥è®²ï¼ŒOGNL çš„å±æ€§è·Ÿ bean å¯¹è±¡çš„å±æ€§æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œè¿™æ„å‘³ç€ä¸€å¯¹ get/set æ–¹æ³•æˆ–è€…ä¸€ä¸ªå­—æ®µå®šä¹‰äº†ä¸€ä¸ªå±æ€§(å®Œæ•´çš„æƒ…å†µä¼šæ›´åŠ å¤æ‚ï¼Œå› ä¸ºå¯¹è±¡æœ‰ä¸åŒç±»å‹çš„å±æ€§ï¼Œè¯¦è§ä¸‹æ–‡çš„è§£é‡Š)ã€‚</p><blockquote><p>The fundamental unit of an OGNL expression is the navigation chain, usually just called &ldquo;chain.&rdquo; The simplest chains consist of the following parts:</p></blockquote><p>OGNL è¡¨è¾¾å¼çš„åŸºæœ¬å•å…ƒæ˜¯å¯¼èˆªé“¾ï¼Œç®€ç§°ï¼šâ€œé“¾â€ï¼Œæœ€ç®€å•çš„é“¾ç”±ä¸‹é¢å‡ éƒ¨åˆ†ç»„æˆï¼š</p><div class=table-wrapper><table><thead><tr><th style=text-align:left>Expression Element Part</th><th style=text-align:left>Example</th></tr></thead><tbody><tr><td style=text-align:left>Property names</td><td style=text-align:left>like the name and headline.text examples above</td></tr><tr><td style=text-align:left>Method Calls</td><td style=text-align:left>hashCode() to return the current object&rsquo;s hash code</td></tr><tr><td style=text-align:left>Array Indices</td><td style=text-align:left>listeners[0] to return the first of the current object&rsquo;s list of listeners</td></tr></tbody></table></div><div class=table-wrapper><table><thead><tr><th style=text-align:left>è¡¨è¾¾å¼å…ƒç´ éƒ¨åˆ†</th><th style=text-align:left>ç¤ºä¾‹</th></tr></thead><tbody><tr><td style=text-align:left>å±æ€§åç§°</td><td style=text-align:left>ä¸Šæ–¹ä¸¾ä¾‹çš„ name å’Œ headline.text</td></tr><tr><td style=text-align:left>æ–¹æ³•è°ƒç”¨</td><td style=text-align:left>hashCode() è¿”å›å½“å‰å¯¹è±¡çš„å“ˆå¸Œå€¼</td></tr><tr><td style=text-align:left>æ•°ç»„ç´¢å¼•</td><td style=text-align:left>listeners[0] è¿”å› listeners åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå¯¹è±¡</td></tr></tbody></table></div><blockquote><p>All OGNL expressions are evaluated in the context of a current object, and a chain simply uses the result of the previous link in the chain as the current object for the next one. You can extend a chain as long as you like. For example, this chain:</p></blockquote><p>æ‰€æœ‰ OGNL è¡¨è¾¾å¼éƒ½åœ¨å½“å‰å¯¹è±¡çš„ä¸Šä¸‹æ–‡ä¸­æ±‚å€¼,é“¾ä¸­ä½¿ç”¨å‰ä¸€ä¸ªé“¾çš„è¿”å›ç»“æœä½œä¸ºå½“å‰é“¾çš„å½“å‰å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œä½ æƒ³æŠŠé“¾æ‹‰å¤šé•¿éƒ½å¯ä»¥ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢è¿™æ¡é“¾ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>name</span><span class=p>.</span><span class=na>toCharArray</span><span class=p>()</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>.</span><span class=na>numericValue</span><span class=p>.</span><span class=na>toString</span><span class=p>()</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>This expression follows these steps to evaluate:</p></blockquote><p>è¿™ä¸ªè¡¨è¾¾å¼æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤è¿›è¡Œæ±‚å€¼ï¼š</p><blockquote><ul><li>extracts the name property of the initial, or root, object (which the user provides to OGNL through the OGNL context);</li><li>calls the toCharArray() method on the resulting String;</li><li>extracts the first character (the one at index 0) from the resulting array;</li><li>gets the numericValue property from that character (the character is represented as a Character object, and the Character class has a method called getNumericValue());</li><li>calls toString() on the resulting Integer object. The final result of this expression is the String returned by the last toString() call.</li></ul></blockquote><hr><ul><li>æå–åˆå§‹å¯¹è±¡æˆ–æ ¹å¯¹è±¡(root)ï¼ˆç”¨æˆ·é€šè¿‡ OGNL ä¸Šä¸‹æ–‡ä¼ é€’ç»™ OGNLï¼‰çš„ name å±æ€§</li><li>åœ¨è¿”å›çš„ç»“æœå­—ç¬¦ä¸²ä¸Šè°ƒç”¨ toCharArray() æ–¹æ³•</li><li>ä»è¿”å›çš„ç»“æœæ•°ç»„ä¸­æå–ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆç´¢å¼•ä¸º 0 çš„å­—ç¬¦ï¼‰</li><li>ä»è¿™ä¸ªå­—ç¬¦ä¸­è·å– numericValue å±æ€§(å­—ç¬¦ä»£è¡¨ Character å¯¹è±¡ï¼ŒCharacter ç±»æœ‰ä¸€ä¸ªæ–¹æ³•å« getNumericValue())ã€‚</li><li>åœ¨è¿”å›ç»“æœçš„ Integer å¯¹è±¡ä¸Šè°ƒç”¨ toString() æ–¹æ³•ã€‚è¿™ä¸ªè¡¨è¾¾å¼æœ€ç»ˆçš„è¿”å›ç»“æœæ˜¯ toString() æ–¹æ³•çš„è¿”å›çš„å­—ç¬¦ä¸²ã€‚</li></ul><blockquote><p>Note that this example can only be used to get a value from an object, not to set a value. Passing the above expression to the Ognl.setValue() method would cause an InappropriateExpressionException to be thrown, because the last link in the chain is neither a property name nor an array index.</p></blockquote><p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªç¤ºä¾‹åªèƒ½ç”¨äºä»å¯¹è±¡ä¸­è·å–å€¼ï¼Œè€Œä¸èƒ½ç”¨äºè®¾ç½®å€¼ã€‚å°†ä¸Šè¿°è¡¨è¾¾å¼ä¼ é€’ç»™ Ognl.setValue() æ–¹æ³•å°†ä¼šæŠ›å‡º InappropriateExpressionException å¼‚å¸¸ï¼Œå› ä¸ºé“¾ä¸­çš„æœ€åä¸€ä¸ªé“¾æ¥å¹¶ä¸æ˜¯å±æ€§åï¼Œä¹Ÿä¸æ˜¯æ•°ç»„ç´¢å¼•ã€‚</p><blockquote><p>This is enough syntax to do the vast majority of what you ever need to do.</p></blockquote><p>ä½†æ˜¯è¿™ç§è¯­æ³•å·²ç»è¶³å¤Ÿæ»¡è¶³å¤§å¤šæ•°å·¥ä½œæ‰€éœ€ã€‚</p><h2 id=expressionsè¡¨è¾¾å¼>Expressions(è¡¨è¾¾å¼)</h2><blockquote><p>This section outlines the details the elements of OGNL&rsquo;s expressions.</p></blockquote><p>æœ¬ç« å°†è¯¦ç»†ä»‹ç» OGNL è¡¨è¾¾å¼çš„å„ç§ç»†èŠ‚ã€‚</p><h3 id=constantså¸¸é‡>Constants(å¸¸é‡)</h3><blockquote><p>OGNL has the following kinds of constants:</p></blockquote><p>OGNL æœ‰ä»¥ä¸‹å‡ ç§å¸¸é‡ï¼š</p><blockquote><ul><li>String literals, as in Java (with the addition of single quotes): delimited by single- or double-quotes, with the full set of character escapes;</li><li>Character literals, also as in Java: delimited by single-quotes, also with the full set of escapes;</li><li>Numeric literals, with a few more kinds than Java. In addition to Java&rsquo;s ints, longs, floats and doubles, OGNL lets you specify BigDecimals with a &ldquo;b&rdquo; or &ldquo;B&rdquo; suffix, and BigIntegers with an &ldquo;h&rdquo; or &ldquo;H&rdquo; suffix (think &ldquo;huge&rdquo;&mdash;we chose &ldquo;h&rdquo; for BigIntegers because it does not interfere with hexadecimal digits);</li><li>Boolean (true and false) literals;</li><li>The null literal.</li></ul></blockquote><hr><ul><li>å­—ç¬¦ä¸²å­—é¢å€¼ï¼Œå¦‚åœ¨ Java (å¦å¢åŠ å•å¼•å·)ä¸­ï¼šç”±å•å¼•å·æˆ–åŒå¼•å·åŒ…è£¹ï¼Œå¹¶ä¸”å¸¦æœ‰å®Œæ•´çš„è½¬ä¹‰é›†ï¼›</li><li>å­—ç¬¦å­—é¢é‡ï¼Œä¹Ÿå’Œ Java ä¸­ä¸€æ ·ï¼šè¢«å•å¼•å·åˆ†å‰²ï¼Œä¹Ÿå¸¦æœ‰å…¨å¥—çš„è½¬ä¹‰ï¼›</li><li>æ•°å­—å­—é¢å€¼ï¼Œæ¯” Java ä¸­å¤šäº†ä¸€äº›ç±»å‹ï¼Œé™¤äº† Java ä¸­çš„æ•´å‹ã€é•¿å‹ã€æµ®ç‚¹æ•°å’ŒåŒç²¾åº¦æµ®ç‚¹æ•°å¤–ï¼ŒOGNL è¿˜å…è®¸ä½ æŒ‡å®šå¸¦æœ‰ &ldquo;b&rdquo; æˆ– &ldquo;b&rdquo; åç¼€çš„ BigDecimalsï¼Œä»¥åŠå¸¦æœ‰ &ldquo;h&rdquo; æˆ– &ldquo;h&rdquo; åç¼€çš„ BigIntegers(è€ƒè™‘ &ldquo;huge&rdquo; â€”â€”æˆ‘ä»¬é€‰æ‹© &ldquo;h&rdquo; è¡¨ç¤º BigIntegersï¼Œå› ä¸ºå®ƒå¹¶ä¸ä¼šå¹²æ‰°åå…­è¿›åˆ¶æ•°å­—)ï¼›</li><li>å¸ƒå°”(çœŸå’Œå‡)å­—é¢å€¼ï¼›</li><li>ç©ºæ–‡å­—ã€‚</li></ul><h3 id=referring-to-propertieså¼•ç”¨å±æ€§>Referring to Properties(å¼•ç”¨å±æ€§)</h3><blockquote><p>OGNL treats different kinds of objects differently in its handling of property references. Maps treat all property references as element lookups or storage, with the property name as the key. Lists and arrays treat numeric properties similarly, with the property name as the index, but string properties the same way ordinary objects do. Ordinary objects (that is, all other kinds) only can handle string properties and do so by using &ldquo;get&rdquo; and &ldquo;set&rdquo; methods (or &ldquo;is&rdquo; and &ldquo;set&rdquo;), if the object has them, or a field with the given name otherwise.</p></blockquote><p>OGNL åœ¨å¤„ç†å±æ€§å¼•ç”¨æ—¶ä»¥ä¸åŒçš„æ–¹å¼å¯¹å¾…ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚ä½¿ç”¨å±æ€§åå°†æ‰€æœ‰å±æ€§æ˜ å°„ä¸ºå¯¹è±¡è¿›è¡ŒæŸ¥æ‰¾æˆ–å­˜å‚¨ã€‚åˆ—è¡¨å’Œæ•°ç»„ä½¿ç”¨åŒæ ·çš„æ–¹å¼ç”¨ç´¢å¼•(index)ä½œä¸ºå±æ€§åå¤„ç†æ•°å­—å±æ€§ã€‚è€Œå¤„ç†å­—ç¬¦ä¸²å±æ€§çš„æ–¹å¼ä¸æ™®é€šå¯¹è±¡ç›¸åŒï¼Œæ™®é€šå¯¹è±¡(å³æ‰€æœ‰å…¶ä»–ç±»å‹çš„å¯¹è±¡)å¦‚æœæœ‰ &ldquo;get&rdquo; å’Œ &ldquo;set&rdquo; æ–¹æ³•(æˆ– &ldquo;is&rdquo; å’Œ &ldquo;set&rdquo;)ï¼Œåˆ™åªèƒ½é€šè¿‡ä½¿ç”¨å¤„ç†å­—ç¬¦ä¸²å±æ€§ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨ç»™å®šçš„å­—æ®µåç§°å¤„ç†å­—ç¬¦ä¸²å±æ€§ã€‚</p><blockquote><p>Note the new terminology here. Property &ldquo;names&rdquo; can be of any type, not just Strings. But to refer to non-String properties, you must use what we have been calling the &ldquo;index&rdquo; notation. For example, to get the length of an array, you can use this expression:</p></blockquote><p>æ³¨æ„è¿™é‡Œçš„æ–°æœ¯è¯­ã€‚å±æ€§ &ldquo;name&rdquo; å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œè€Œä¸ä»…ä»…æ˜¯å­—ç¬¦ä¸²ã€‚ä½†æ˜¯è¦å¼•ç”¨éå­—ç¬¦ä¸²å±æ€§ï¼Œå¿…é¡»ä½¿ç”¨æˆ‘ä»¬ä¸€ç›´ç§°ä¸º &ldquo;index&rdquo; çš„ç¬¦å·ã€‚ä¾‹å¦‚ï¼Œè¦è·å–ä¸€ä¸ªæ•°ç»„çš„é•¿åº¦ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªè¡¨è¾¾å¼:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>array</span><span class=p>.</span><span class=na>length</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>But to get at element 0 of the array, you must use an expression like this:</p></blockquote><p>ä½†æ˜¯è¦è·å–æ•°ç»„çš„ç¬¬ 0 ä¸ªå…ƒç´ ï¼Œä½ å¿…é¡»ä½¿ç”¨è¿™æ ·çš„è¡¨è¾¾å¼:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>array</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>Note that Java collections have some special properties associated with them.</p></blockquote><p>æ³¨æ„ï¼ŒJava é›†åˆæœ‰ä¸€äº›ä¸ä¹‹å…³è”çš„ç‰¹æ®Šå±æ€§ã€‚</p><h3 id=indexingç´¢å¼•>Indexing(ç´¢å¼•)</h3><blockquote><p>As discussed above, the &ldquo;indexing&rdquo; notation is actually just property reference, though a computed form of property reference rather than a constant one.</p></blockquote><p>å¦‚ä¸Šæ‰€è¿°ï¼Œ&ldquo;indexing&rdquo; è¡¨ç¤ºæ³•å®é™…ä¸Šåªæ˜¯å±æ€§å¼•ç”¨ï¼Œå°½ç®¡æ˜¯ä¸€ç§è®¡ç®—å½¢å¼çš„å±æ€§å¼•ç”¨ï¼Œè€Œä¸æ˜¯å¸¸æ•°å½¢å¼ã€‚</p><blockquote><p>For example, OGNL internally treats the &ldquo;array.length&rdquo; expression exactly the same as this expression:</p></blockquote><p>ä¾‹å¦‚ï¼ŒOGNL åœ¨å†…éƒ¨å¤„ç† &ldquo;array.length&rdquo; è¡¨è¾¾å¼ä¸è¿™ä¸ªè¡¨è¾¾å¼å®Œå…¨ç›¸åŒ:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>array</span><span class=o>[</span><span class=s>&#34;length&#34;</span><span class=o>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>And this expression would have the same result (though not the same internal form):</p></blockquote><p>è€Œè¿™ä¸ªè¡¨è¾¾å¼ä¼šæœ‰ç›¸åŒçš„ç»“æœ(å°½ç®¡å†…éƒ¨å½¢å¼ä¸åŒ):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>array</span><span class=o>[</span><span class=s>&#34;len&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;gth&#34;</span><span class=o>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>Array and List Indexing</strong>(æ•°ç»„å’Œåˆ—è¡¨ç´¢å¼•)</p><blockquote><p>For Java arrays and Lists indexing is fairly simple, just like in Java. An integer index is given and that element is the referrent. If the index is out of bounds of the array or List and IndexOutOfBoundsException is thrown, just as in Java.</p></blockquote><p>å¯¹äº Java æ•°ç»„(arrays)å’Œåˆ—è¡¨(Lists)æ¥è¯´ç´¢å¼•(indexing)ç›¸å½“ç®€å•ï¼Œå’Œåœ¨ Java ä¸­ä¸€æ ·ï¼Œç»™å‡ºä¸€ä¸ªæ•´æ•°ç´¢å¼•å°±èƒ½çš„åˆ°å…ƒç´ çš„å¼•ç”¨å¯¹è±¡ã€‚å¦‚æœç´¢å¼•è¶…å‡ºæ•°ç»„æˆ–åˆ—è¡¨çš„è¾¹ç•Œï¼Œåˆ™æŠ›å‡º IndexOutOfBoundsException å¼‚å¸¸ï¼Œä¹Ÿå’Œ Java ä¸­ä¸€æ ·ã€‚</p><p><strong>JavaBeans Indexed Properties</strong>(JavaBeans ç´¢å¼•å±æ€§)</p><blockquote><p>JavaBeans supports the concept of Indexed properties. Specifically this means that an object has a set of methods that follow the following pattern:</p></blockquote><p>JavaBeans ä¹Ÿæ”¯æŒç´¢å¼•å±æ€§çš„æ¦‚å¿µã€‚å…·ä½“æ¥è¯´ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªå¯¹è±¡ä¼šæœ‰ä¸€ç»„éµå¾ªä»¥ä¸‹æ¨¡å¼çš„æ–¹æ³•:</p><ul><li><code>public PropertyType[] getPropertyName();</code></li><li><code>public void setPropertyName(PropertyType[] anArray);</code></li><li><code>public PropertyType getPropertyName(int index);</code></li><li><code>public void setPropertyName(int index, PropertyType value);</code></li></ul><blockquote><p>OGNL can interpret this and provide seamless access to the property through the indexing notation. References such as</p></blockquote><p>OGNL å¯ä»¥è§£é‡Šè¿™ä¸€ç‚¹ï¼Œå¹¶é€šè¿‡ç´¢å¼•ç¬¦å·æä¾›å¯¹å±æ€§çš„æ— ç¼è®¿é—®ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>someProperty</span><span class=o>[</span><span class=n>2</span><span class=o>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>are automatically routed through the correct indexed property accessor (in the above case through getSomeProperty(2) or setSomeProperty(2, value)). If there is no indexed property accessor a property is found with the name someProperty and the index is applied to that.</p></blockquote><p>è¯¸å¦‚æ­¤ç±»çš„å¼•ç”¨ä¼šè‡ªåŠ¨é€šè¿‡æ­£ç¡®çš„ç´¢å¼•å±æ€§è®¿é—®å™¨è¿›è¡Œè·¯ç”±ï¼ˆåœ¨ä¸Šè¿°æƒ…å†µä¸‹é€šè¿‡ getSomeProperty(2) æˆ– setSomeProperty(2, value)ï¼‰ã€‚ å¦‚æœæ²¡æœ‰ç´¢å¼•å±æ€§è®¿é—®å™¨ï¼Œåˆ™ä¼šæ‰¾åˆ°åä¸º someProperty çš„å±æ€§ï¼Œå¹¶å°†ç´¢å¼•åº”ç”¨äºè¯¥å±æ€§ã€‚</p><p><strong>OGNL Object Indexed Properties</strong>(OGNL å¯¹è±¡ç´¢å¼•å±æ€§)</p><blockquote><p>OGNL extends the concept of indexed properties to include indexing with arbitrary objects, not just integers as with JavaBeans Indexed Properties. When finding properties as candidates for object indexing, OGNL looks for patterns of methods with the following signature:</p></blockquote><p>OGNL æ‰©å±•äº†ç´¢å¼•å±æ€§çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬å¯¹ä»»æ„å¯¹è±¡è¿›è¡Œç´¢å¼•ï¼Œè€Œä¸ä»…ä»…æ˜¯åƒ JavaBeans ç´¢å¼•å±æ€§é‚£æ ·å¯¹æ•´æ•°è¿›è¡Œç´¢å¼•ã€‚ å½“æŸ¥æ‰¾å±æ€§ä½œä¸ºå¯¹è±¡ç´¢å¼•çš„å€™é€‰æ—¶ï¼ŒOGNL ä¼šæŸ¥æ‰¾å…·æœ‰ä»¥ä¸‹ç­¾åçš„æ–¹æ³•æ¨¡å¼ï¼š</p><ul><li><code>public PropertyType getPropertyName(IndexType index);</code></li><li><code>public void setPropertyName(IndexType index, PropertyType value);</code></li></ul><blockquote><p>The PropertyType and IndexType must match each other in the corresponding set and get methods. An actual example of using Object Indexed Properties is with the Servlet API: the Session object has two methods for getting and setting arbitrary attributes:</p></blockquote><p>PropertyType å’Œ IndexType åœ¨ç›¸åº”çš„ set å’Œ get æ–¹æ³•ä¸­å¿…é¡»ç›¸äº’åŒ¹é…ã€‚ ä½¿ç”¨å¯¹è±¡ç´¢å¼•å±æ€§çš„ä¸€ä¸ªå®é™…ç¤ºä¾‹æ˜¯ Servlet APIï¼šSession å¯¹è±¡æœ‰ä¸¤ç§è·å–å’Œè®¾ç½®ä»»æ„å±æ€§çš„æ–¹æ³•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>Object</span><span class=w> </span><span class=nf>getAttribute</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setAttribute</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=w> </span><span class=n>value</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>An OGNL expression that can both get and set one of these attributes is:</p></blockquote><p>å¯ä»¥è·å–å’Œè®¾ç½®è¿™äº›å±æ€§ä¹‹ä¸€çš„ OGNL è¡¨è¾¾å¼æ˜¯:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>session</span><span class=p>.</span><span class=na>attribute</span><span class=o>[</span><span class=s>&#34;foo&#34;</span><span class=o>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=calling-methodsè°ƒç”¨æ–¹æ³•>Calling Methods(è°ƒç”¨æ–¹æ³•)</h2><blockquote><p>OGNL calls methods a little differently from the way Java does, because OGNL is interpreted and must choose the right method at run time, with no extra type information aside from the actual arguments supplied. OGNL always chooses the most specific method it can find whose types match the supplied arguments; if there are two or more methods that are equally specific and match the given arguments, one of them will be chosen arbitrarily.</p></blockquote><p>OGNL è°ƒç”¨æ–¹æ³•çš„æ–¹å¼ä¸ Java çš„æ–¹å¼ç•¥æœ‰ä¸åŒï¼Œå› ä¸º OGNL æ˜¯è§£é‡Šæ€§çš„ï¼Œå¹¶ä¸”å¿…é¡»åœ¨è¿è¡Œæ—¶é€‰æ‹©æ­£ç¡®çš„æ–¹æ³•ï¼Œé™¤äº†æä¾›çš„å®é™…å‚æ•°ä¹‹å¤–ï¼Œæ²¡æœ‰é¢å¤–çš„ç±»å‹ä¿¡æ¯ã€‚ OGNL æ€»æ˜¯é€‰æ‹©å®ƒèƒ½æ‰¾åˆ°çš„æœ€å…·ä½“çš„æ–¹æ³•ï¼Œå…¶ç±»å‹ä¸æä¾›çš„å‚æ•°ç›¸åŒ¹é…ï¼› å¦‚æœæœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªåŒæ ·å…·ä½“ä¸”ä¸ç»™å®šå‚æ•°åŒ¹é…çš„æ–¹æ³•ï¼Œåˆ™å°†ä»»æ„é€‰æ‹©å…¶ä¸­ä¹‹ä¸€ã€‚</p><blockquote><p>In particular, a null argument matches all non-primitive types, and so is most likely to result in an unexpected method being called.</p></blockquote><p>ç‰¹åˆ«æ˜¯ï¼Œç©ºå‚æ•°åŒ¹é…æ‰€æœ‰éåŸºæœ¬ç±»å‹ï¼Œå› æ­¤å¾ˆå¯èƒ½å¯¼è‡´è°ƒç”¨æ„å¤–çš„æ–¹æ³•ã€‚</p><blockquote><p>Note that the arguments to a method are separated by commas, and so the comma operator cannot be used unless it is enclosed in parentheses. For example,</p></blockquote><p>è¯·æ³¨æ„ï¼Œæ–¹æ³•çš„å‚æ•°æ˜¯ç”¨é€—å·åˆ†éš”çš„ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨é€—å·è¿ç®—ç¬¦ï¼Œé™¤éå°†å…¶æ‹¬åœ¨æ‹¬å·ä¸­ã€‚ ä¾‹å¦‚ï¼Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>method</span><span class=p>(</span><span class=w> </span><span class=n>ensureLoaded</span><span class=p>(),</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>is a call to a 2-argument method, while</p></blockquote><p>ä¸Šé¢æ˜¯å¯¹ 2 å‚æ•°æ–¹æ³•çš„è°ƒç”¨ï¼Œè€Œä¸‹é¢çš„</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>method</span><span class=p>(</span><span class=w> </span><span class=p>(</span><span class=n>ensureLoaded</span><span class=p>(),</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>is a call to a 1-argument method.</p></blockquote><p>æ˜¯å¯¹ 1 å‚æ•°æ–¹æ³•çš„è°ƒç”¨ã€‚</p><h2 id=variable-referenceså˜é‡å¼•ç”¨>Variable References(å˜é‡å¼•ç”¨)</h2><blockquote><p>OGNL has a simple variable scheme, which lets you store intermediate results and use them again, or just name things to make an expression easier to understand. All variables in OGNL are global to the entire expression. You refer to a variable using a number sign in front of its name, like this:</p></blockquote><p>OGNL æœ‰ä¸€ä¸ªç®€å•çš„å˜é‡æ–¹æ¡ˆï¼Œå®ƒå…è®¸ä½ å­˜å‚¨ä¸­é—´ç»“æœå¹¶å†æ¬¡ä½¿ç”¨å®ƒä»¬ï¼Œæˆ–è€…åªæ˜¯å‘½åäº‹ç‰©ä»¥ä½¿è¡¨è¾¾å¼æ›´æ˜“äºç†è§£ã€‚ OGNL ä¸­çš„æ‰€æœ‰å˜é‡å¯¹äºæ•´ä¸ªè¡¨è¾¾å¼éƒ½æ˜¯å…¨å±€çš„ã€‚ ä½ å¯ä»¥åœ¨å˜é‡åç§°å‰é¢ä½¿ç”¨æ•°å­—ç¬¦å·æ¥å¼•ç”¨å˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=err>#</span><span class=kd>var</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>OGNL also stores the current object at every point in the evaluation of an expression in the this variable, where it can be referred to like any other variable. For example, the following expression operates on the number of listeners, returning twice the number if it is more than 100, or 20 more than the number otherwise:</p></blockquote><p>OGNL è¿˜å°†è¡¨è¾¾å¼æ±‚å€¼ä¸­æ¯ä¸ªç‚¹çš„å½“å‰å¯¹è±¡å­˜å‚¨åœ¨ this å˜é‡ä¸­ï¼Œå¯ä»¥åƒä»»ä½•å…¶ä»–å˜é‡ä¸€æ ·å¼•ç”¨å®ƒã€‚ ä¾‹å¦‚ï¼Œä»¥ä¸‹è¡¨è¾¾å¼å¯¹ä¾¦å¬å™¨çš„æ•°é‡è¿›è¡Œæ“ä½œï¼Œå¦‚æœå¤§äº 100ï¼Œåˆ™è¿”å›è¯¥æ•°å­—çš„ä¸¤å€ï¼Œå¦åˆ™è¿”å›è¯¥æ•°å­—çš„ 20ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>listeners</span><span class=p>.</span><span class=na>size</span><span class=p>().(</span><span class=err>#</span><span class=k>this</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>100</span><span class=o>?</span><span class=w> </span><span class=n>2</span><span class=o>*</span><span class=err>#</span><span class=k>this</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>20</span><span class=o>+</span><span class=err>#</span><span class=k>this</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>OGNL can be invoked with a map that defines initial values for variables. The standard way of invoking OGNL defines the variables root (which holds the initial, or root, object), and context (which holds the Map of variables itself).</p></blockquote><p>å¯ä»¥ä½¿ç”¨å®šä¹‰å˜é‡åˆå§‹å€¼çš„æ˜ å°„æ¥è°ƒç”¨ OGNLã€‚ è°ƒç”¨ OGNL çš„æ ‡å‡†æ–¹æ³•å®šä¹‰å˜é‡æ ¹(root)ï¼ˆä¿å­˜åˆå§‹æˆ–æ ¹å¯¹è±¡(root)ï¼‰å’Œä¸Šä¸‹æ–‡ï¼ˆä¿å­˜å˜é‡æœ¬èº«çš„æ˜ å°„ï¼‰ã€‚</p><blockquote><p>To assign a value to a variable explicitly, simply write an assignment statement with a variable reference on the left-hand side:</p></blockquote><p>è¦æ˜¾å¼åœ°å°†å€¼èµ‹ç»™å˜é‡ï¼Œåªéœ€åœ¨å·¦ä¾§å†™ä¸€ä¸ªèµ‹å€¼è¯­å¥å¹¶å¼•ç”¨å˜é‡:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=err>#</span><span class=kd>var</span><span class=w> </span><span class=err>= </span><span class=n>99</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=parenthetical-expressionsæ‹¬å·è¡¨è¾¾å¼>Parenthetical Expressions(æ‹¬å·è¡¨è¾¾å¼)</h2><blockquote><p>As you would expect, an expression enclosed in parentheses is evaluated as a unit, separately from any surrounding operators. This can be used to force an evaluation order different from the one that would be implied by OGNL operator precedences. It is also the only way to use the comma operator in a method argument.</p></blockquote><p>æ­£å¦‚ä½ æ‰€æœŸæœ›çš„é‚£æ ·ï¼Œæ‹¬åœ¨æ‹¬å·ä¸­çš„è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªå•ä½è®¡ç®—ï¼Œä¸å‘¨å›´çš„ä»»ä½•æ“ä½œç¬¦åˆ†å¼€ã€‚è¿™å¯ç”¨äºå¼ºåˆ¶ä¸åŒäº OGNL æ“ä½œç¬¦ä¼˜å…ˆçº§æ‰€æš—ç¤ºçš„æ±‚å€¼é¡ºåºã€‚è¿™ä¹Ÿæ˜¯åœ¨æ–¹æ³•å‚æ•°ä¸­ä½¿ç”¨é€—å·æ“ä½œç¬¦çš„å”¯ä¸€æ–¹æ³•ã€‚</p><h2 id=chained-subexpressionsé“¾æ¥å­è¡¨è¾¾å¼>Chained Subexpressions(é“¾æ¥å­è¡¨è¾¾å¼)</h2><blockquote><p>If you use a parenthetical expression after a dot, the object that is current at the dot is used as the current object throughout the parenthetical expression. For example,</p></blockquote><p>å¦‚æœåœ¨ç‚¹åä½¿ç”¨åœ†æ‹¬å·è¡¨è¾¾å¼ï¼Œåˆ™åœ†ç‚¹å¤„çš„å½“å‰å¯¹è±¡å°†ç”¨ä½œæ•´ä¸ªåœ†æ‹¬å·è¡¨è¾¾å¼ä¸­çš„å½“å‰å¯¹è±¡ã€‚ä¾‹å¦‚,</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>headline</span><span class=p>.</span><span class=na>parent</span><span class=p>.(</span><span class=n>ensureLoaded</span><span class=p>(),</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>traverses through the headline and parent properties, ensures that the parent is loaded and then returns (or sets) the parent&rsquo;s name.</p></blockquote><p>éå†æ ‡é¢˜(headline)çš„çˆ¶å±æ€§(parent)ï¼Œç¡®ä¿çˆ¶å±æ€§è¢«åŠ è½½(ensureLoaded())ï¼Œç„¶åè¿”å›(æˆ–è®¾ç½®)çˆ¶å±æ€§çš„åç§°ã€‚</p><blockquote><p>Top-level expressions can also be chained in this way. The result of the expression is the right-most expression element.</p></blockquote><p>é¡¶çº§è¡¨è¾¾å¼ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼é“¾æ¥ã€‚ è¡¨è¾¾å¼çš„ç»“æœæ˜¯æœ€å³è¾¹çš„è¡¨è¾¾å¼å…ƒç´ ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ensureLoaded</span><span class=p>(),</span><span class=w> </span><span class=n>name</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>This will call ensureLoaded() on the root object, then get the name property of the root object as the result of the expression.</p></blockquote><p>è¿™å°†åœ¨æ ¹å¯¹è±¡(root)ä¸Šè°ƒç”¨ EnsureLoaded()ï¼Œç„¶åè·å–æ ¹å¯¹è±¡(root)çš„ name å±æ€§ä½œä¸ºè¡¨è¾¾å¼çš„ç»“æœã€‚</p><h2 id=collection-constructioné›†åˆç»“æ„>Collection Construction(é›†åˆç»“æ„)</h2><h3 id=listsåˆ—è¡¨>Lists(åˆ—è¡¨)</h3><blockquote><p>To create a list of objects, enclose a list of expressions in curly braces. As with method arguments, these expressions cannot use the comma operator unless it is enclosed in parentheses. Here is an example:</p></blockquote><p>è¦åˆ›å»ºå¯¹è±¡åˆ—è¡¨ï¼Œè¯·å°†è¡¨è¾¾å¼åˆ—è¡¨æ‹¬åœ¨èŠ±æ‹¬å·ä¸­ã€‚ ä¸æ–¹æ³•å‚æ•°ä¸€æ ·ï¼Œè¿™äº›è¡¨è¾¾å¼ä¸èƒ½ä½¿ç”¨é€—å·è¿ç®—ç¬¦ï¼Œé™¤éå°†å…¶æ‹¬åœ¨æ‹¬å·ä¸­ã€‚ è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>name</span><span class=w> </span><span class=n>in</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=s>&#34;Untitled&#34;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>This tests whether the name property is null or equal to &ldquo;Untitled&rdquo;.</p></blockquote><p>è¿™æµ‹è¯• name å±æ€§æ˜¯å¦ä¸ºç©º(null)æˆ–ç­‰äº &ldquo;Untitled&rdquo;ã€‚</p><blockquote><p>The syntax described above will create a instanceof the List interface. The exact subclass is not defined.</p></blockquote><p>ä¸Šè¿°è¯­æ³•å°†åˆ›å»º List æ¥å£çš„å®ä¾‹ï¼Œå…¶ç¡®åˆ‡çš„å­ç±»æœªå®šä¹‰ã€‚</p><h2 id=native-arraysåŸç”Ÿæ•°ç»„>Native Arrays(åŸç”Ÿæ•°ç»„)</h2><blockquote><p>Sometimes you want to create Java native arrays, such as int[] or Integer[]. OGNL supports the creation of these similarly to the way that constructors are normally called, but allows initialization of the native array from either an existing list or a given size of the array.</p></blockquote><p>æœ‰æ—¶ä½ æƒ³è¦åˆ›å»º Java åŸç”Ÿæ•°ç»„ï¼Œä¾‹å¦‚ int[] æˆ– Integer[]ã€‚ OGNL æ”¯æŒä»¥ç±»ä¼¼äºé€šå¸¸è°ƒç”¨æ„é€ å‡½æ•°çš„æ–¹å¼åˆ›å»ºè¿™äº›æ•°ç»„ï¼Œä¹Ÿå…è®¸ä»ç°æœ‰åˆ—è¡¨æˆ–ç»™å®šå¤§å°çš„æ•°ç»„åˆå§‹åŒ–æœ¬æœºæ•°ç»„ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>This creates a new int array consisting of three integers 1, 2 and 3.</p></blockquote><p>è¿™å°†åˆ›å»ºä¸€ä¸ªç”±ä¸‰ä¸ªæ•´æ•° 1ã€2 å’Œ 3 ç»„æˆçš„æ–° int æ•°ç»„ã€‚</p><blockquote><p>To create an array with all null or 0 elements, use the alternative size constructor</p></blockquote><p>è¦åˆ›å»ºåŒ…å«æ‰€æœ‰ null æˆ– 0 å…ƒç´ çš„æ•°ç»„ï¼Œè¯·ä½¿ç”¨æŒ‡å®šæ•°ç»„å¤§å°çš„æ„é€ å‡½æ•°</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>5</span><span class=o>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>This creates an int array with 5 slots, all initialized to zero.</p></blockquote><p>è¿™å°†åˆ›å»ºä¸€ä¸ªå…·æœ‰ 5 ä¸ªæ§½(slots)çš„ int æ•°ç»„ï¼Œå…¨éƒ¨åˆå§‹åŒ–ä¸ºé›¶ã€‚</p><h3 id=mapsæ˜ å°„>Maps(æ˜ å°„)</h3><blockquote><p>Maps can also be created using a special syntax.</p></blockquote><p>æ˜ å°„(Maps)åªèƒ½é€šè¿‡ç‰¹æ®Šçš„è¯­æ³•è¿›è¡Œåˆ›å»ºã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=err>#</span><span class=p>{</span><span class=w> </span><span class=s>&#34;foo&#34;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s>&#34;foo value&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;bar&#34;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s>&#34;bar value&#34;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>This creates a Map initialized with mappings for &ldquo;foo&rdquo; and &ldquo;bar&rdquo;.</p></blockquote><p>è¿™å°†åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–äº† &ldquo;foo&rdquo; å’Œ &ldquo;bar&rdquo; ä¸¤ä¸ªæ˜ å°„å…³ç³»çš„ Mapã€‚</p><p>Advanced users who wish to select the specific Map class can specify that class before the opening curly brace</p><p>å¸Œæœ›é€‰æ‹©ç‰¹å®šçš„ Map ç±»çš„é«˜çº§ç”¨æˆ·å¯ä»¥åœ¨å·¦æ‰“æ‹¬å·ä¹‹å‰æŒ‡å®šç±»ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=err>#</span><span class=nd>@java.util.LinkedHashMap</span><span class=err>@</span><span class=p>{</span><span class=w> </span><span class=s>&#34;foo&#34;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s>&#34;foo value&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;bar&#34;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s>&#34;bar value&#34;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>The above example will create an instance of the JDK 1.4 class LinkedHashMap, ensuring the the insertion order of the elements is preserved.</p></blockquote><p>ä¸Šé¢çš„ç¤ºä¾‹å°†åˆ›å»º JDK 1.4 ç±» LinkedHashMap çš„å®ä¾‹ï¼Œå¹¶ä¸”ä¿ç•™å…ƒç´ çš„æ’å…¥é¡ºåºã€‚</p><h2 id=projecting-across-collectionsè·¨é›†åˆæŠ•å½±>Projecting Across Collections(è·¨é›†åˆæŠ•å½±)</h2><blockquote><p>OGNL provides a simple way to call the same method or extract the same property from each element in a collection and store the results in a new collection. We call this &ldquo;projection,&rdquo; from the database term for choosing a subset of columns from a table. For example, this expression:</p></blockquote><p>OGNL æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥è°ƒç”¨ç›¸åŒçš„æ–¹æ³•æˆ–ä»é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ ä¸­æå–ç›¸åŒçš„å±æ€§å¹¶å°†ç»“æœå­˜å‚¨åœ¨æ–°é›†åˆä¸­ã€‚ æˆ‘ä»¬å°†å…¶ç§°ä¸º"æŠ•å½±(projection)"ï¼Œæ¥è‡ªæ•°æ®åº“æœ¯è¯­ï¼Œç”¨äºä»è¡¨ä¸­é€‰æ‹©åˆ—çš„å­é›†ã€‚ ä¾‹å¦‚ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>listeners</span><span class=p>.{</span><span class=n>delegate</span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>returns a list of all the listeners&rsquo; delegates. See the coercion section for how OGNL treats various kinds of objects as collections.</p></blockquote><p>è¿”å›æ‰€æœ‰ listeners åˆ—è¡¨ä¸­æ‰€æœ‰çš„ delegateã€‚ æœ‰å…³ OGNL å¦‚ä½•å°†å„ç§ç±»å‹çš„å¯¹è±¡è§†ä¸ºé›†åˆçš„ä¿¡æ¯ï¼Œè¯·å‚é˜…å¼ºåˆ¶éƒ¨åˆ†ã€‚</p><blockquote><p>During a projection the #this variable refers to the current element of the iteration.</p></blockquote><p>åœ¨æŠ•å½±æœŸé—´ï¼Œ#this å˜é‡å¼•ç”¨è¿­ä»£çš„å½“å‰å…ƒç´ ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>objects</span><span class=p>.{</span><span class=w> </span><span class=err>#</span><span class=k>this</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=err>#</span><span class=k>this</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=err>#</span><span class=k>this</span><span class=p>.</span><span class=na>toString</span><span class=p>()}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>The above would produce a new list of elements from the objects list as string values.</p></blockquote><p>ä¸Šé¢çš„ä»£ç å°†å¯¹è±¡ä¸­æ‰€æœ‰å±æ€§å€¼è®¾ç½®ä¸ºå­—ç¬¦ä¸²ã€‚</p><h2 id=selecting-from-collectionsä»é›†åˆä¸­é€‰æ‹©>Selecting From Collections(ä»é›†åˆä¸­é€‰æ‹©)</h2><blockquote><p>OGNL provides a simple way to use an expression to choose some elements from a collection and save the results in a new collection. We call this &ldquo;selection,&rdquo; from the database term for choosing a subset of rows from a table. For example, this expression:</p></blockquote><p>OGNL æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ä½¿ç”¨è¡¨è¾¾å¼ä»é›†åˆä¸­é€‰æ‹©ä¸€äº›å…ƒç´ å¹¶å°†ç»“æœä¿å­˜åœ¨æ–°é›†åˆä¸­ã€‚ æˆ‘ä»¬å°†å…¶ç§°ä¸º &ldquo;é€‰æ‹©(selection)"ï¼Œæ¥è‡ªæ•°æ®åº“æœ¯è¯­ï¼Œç”¨äºä»è¡¨ä¸­é€‰æ‹©è¡Œçš„å­é›†ã€‚ ä¾‹å¦‚ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>listeners</span><span class=p>.{</span><span class=o>?</span><span class=w> </span><span class=err>#</span><span class=k>this</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>ActionListener</span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>returns a list of all those listeners that are instances of the ActionListener class.</p><p>è¿”å›ä½œä¸º ActionListener ç±»å®ä¾‹çš„æ‰€æœ‰ listener(s) çš„åˆ—è¡¨ã€‚</p><h3 id=selecting-first-matché€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹>Selecting First Match(é€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹)</h3><blockquote><p>In order to get the first match from a list of matches, you could use indexing such as listeners.{? true }[0]. However, this is cumbersome because if the match does not return any results (or if the result list is empty) you will get an ArrayIndexOutOfBoundsException.</p></blockquote><p>ä¸ºäº†ä»åŒ¹é…åˆ—è¡¨ä¸­è·å–ç¬¬ä¸€ä¸ªåŒ¹é…ï¼Œä½ å¯ä»¥ä½¿ç”¨ç´¢å¼•ï¼Œä¾‹å¦‚ listeners.{? true}[0]ã€‚ ç„¶è€Œï¼Œè¿™å¾ˆéº»çƒ¦ï¼Œå› ä¸ºå¦‚æœåŒ¹é…æ²¡æœ‰è¿”å›ä»»ä½•ç»“æœï¼ˆæˆ–è€…ç»“æœåˆ—è¡¨ä¸ºç©ºï¼‰ï¼Œä½ å°†å¾—åˆ° ArrayIndexOutOfBoundsException å¼‚å¸¸ã€‚</p><blockquote><p>The selection syntax is also available to select only the first match and return it as a list. If the match does not succeed for any elements an empty list is the result.</p></blockquote><p>é€‰æ‹©è¯­æ³•ä¹Ÿå¯ç”¨äºä»…é€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹å¹¶å°†å…¶ä½œä¸ºåˆ—è¡¨è¿”å›ã€‚ å¦‚æœä»»ä½•å…ƒç´ çš„åŒ¹é…å‡æœªæˆåŠŸï¼Œåˆ™ç»“æœä¸ºç©ºåˆ—è¡¨ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>objects</span><span class=p>.{</span><span class=o>^</span><span class=w> </span><span class=err>#</span><span class=k>this</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>Will return the first element contained in objects that is an instance of the String class.</p></blockquote><p>å°†è¿”å›å¯¹è±¡ä¸­ç¬¬ä¸€ä¸ªä½œä¸º String ç±»å®ä¾‹å­˜åœ¨çš„å…ƒç´ ã€‚</p><h3 id=selecting-last-matché€‰æ‹©æœ€åä¸€ä¸ªåŒ¹é…é¡¹>Selecting Last Match(é€‰æ‹©æœ€åä¸€ä¸ªåŒ¹é…é¡¹)</h3><blockquote><p>Similar to getting the first match, sometimes you want to get the last element that matched.</p></blockquote><p>ä¸è·å–ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ç±»ä¼¼ï¼Œæœ‰æ—¶æ‚¨æƒ³è·å–æœ€åä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>objects</span><span class=p>.{</span><span class=n>$</span><span class=w> </span><span class=err>#</span><span class=k>this</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>This will return the last element contained in objects that is an instanceof the String class</p></blockquote><p>å°†è¿”å›å¯¹è±¡ä¸­æœ€åä¸€ä¸ªä½œä¸º String ç±»å®ä¾‹å­˜åœ¨çš„å…ƒç´ ã€‚</p><h2 id=calling-constructorsè°ƒç”¨æ„é€ å‡½æ•°>Calling Constructors(è°ƒç”¨æ„é€ å‡½æ•°)</h2><blockquote><p>You can create new objects as in Java, with the new operator. One difference is that you must specify the fully qualified class name for classes other than those in the java.lang package.</p></blockquote><p>æ‚¨å¯ä»¥åƒåœ¨ Java ä¸­ä¸€æ ·ä½¿ç”¨ new è¿ç®—ç¬¦åˆ›å»ºæ–°å¯¹è±¡ã€‚ ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œæ‚¨å¿…é¡»ä¸º java.lang åŒ…ä¸­çš„ç±»ä»¥å¤–çš„ç±»æŒ‡å®šå…¨è·¯å¾„ç±»åã€‚</p><blockquote><p>This is only true with the default ClassResolver in place. With a custom class resolver packages can be mapped in such a way that more Java-like references to classes can be made. Refer to the OGNL Developer&rsquo;s Guide for details on using ClassResolver class (for example, new java.util.ArrayList(), rather than simply new ArrayList()).</p></blockquote><p>ä»…å½“ä½¿ç”¨é»˜è®¤çš„ ClassResolver æ—¶æ‰ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚ å¦‚æœä½¿ç”¨è‡ªå®šä¹‰ç±»è§£æå™¨ï¼Œä¹Ÿå¯ä»¥ä»¥è¿™æ ·çš„æ–¹å¼æ˜ å°„åŒ…ï¼Œä»è€Œå¯ä»¥å¯¹ç±»è¿›è¡Œæ›´å¤šç±»ä¼¼ Java çš„å¼•ç”¨ã€‚ æœ‰å…³ä½¿ç”¨ ClassResolver ç±»ï¼ˆä¾‹å¦‚ï¼Œnew java.util.ArrayList()ï¼Œè€Œä¸æ˜¯ç®€å•çš„ new ArrayList()ï¼‰çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… OGNL å¼€å‘äººå‘˜æŒ‡å—ã€‚</p><blockquote><p>OGNL chooses the right constructor to call using the same procedure it uses for overloaded method calls.</p></blockquote><p>OGNL ä½¿ç”¨ä¸é‡è½½æ–¹æ³•è°ƒç”¨ç›¸åŒçš„è¿‡ç¨‹æ¥é€‰æ‹©æ­£ç¡®çš„æ„é€ å‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚</p><h2 id=calling-static-methodsè°ƒç”¨é™æ€æ–¹æ³•>Calling Static Methods(è°ƒç”¨é™æ€æ–¹æ³•)</h2><blockquote><p>You can call a static method using the syntax @class@method(args). If you leave out class, it defaults to java.lang.Math, to make it easier to call min and max methods. If you specify the class, you must give the fully qualified name.</p></blockquote><p>æ‚¨å¯ä»¥ä½¿ç”¨è¯­æ³• @class@method(args) è°ƒç”¨é™æ€æ–¹æ³•ã€‚ å¦‚æœçœç•¥ classï¼Œåˆ™å®ƒé»˜è®¤ä¸º java.lang.Mathï¼Œä»¥ä¾¿æ›´è½»æ¾åœ°è°ƒç”¨ min å’Œ max æ–¹æ³•ã€‚ å¦‚æœæŒ‡å®šç±»ï¼Œåˆ™å¿…é¡»æä¾›å…¨è·¯å¾„åç§°ã€‚</p><blockquote><p>If you have an instance of a class whose static method you wish to call, you can call the method through the object as if it was an instance method.</p></blockquote><p>å¦‚æœæ‚¨æœ‰ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œæ‚¨å¸Œæœ›è°ƒç”¨å…¶é™æ€æ–¹æ³•ï¼Œåˆ™å¯ä»¥é€šè¿‡è¯¥å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå°±åƒå®ƒæ˜¯å®ä¾‹æ–¹æ³•ä¸€æ ·ã€‚</p><blockquote><p>If the method name is overloaded, OGNL chooses the right static method to call using the same procedure it uses for overloaded instance methods.</p></blockquote><p>å¦‚æœæ–¹æ³•åç§°è¢«é‡è½½ï¼ŒOGNL å°†ä½¿ç”¨ä¸é‡è½½å®ä¾‹æ–¹æ³•ç›¸åŒçš„è¿‡ç¨‹æ¥é€‰æ‹©æ­£ç¡®çš„é™æ€æ–¹æ³•è¿›è¡Œè°ƒç”¨ã€‚</p><h2 id=getting-static-fieldsè·å–é™æ€å­—æ®µ>Getting Static Fields(è·å–é™æ€å­—æ®µ)</h2><blockquote><p>You can refer to a static field using the syntax @class@field. The class must be fully qualified.</p></blockquote><p>æ‚¨å¯ä»¥ä½¿ç”¨è¯­æ³•@class@field å¼•ç”¨é™æ€å­—æ®µã€‚ ç±»å¿…é¡»ä¸ºå…¨è·¯å¾„ã€‚</p><h2 id=expression-evaluationè¡¨è¾¾å¼æ±‚å€¼>Expression Evaluation(è¡¨è¾¾å¼æ±‚å€¼)</h2><blockquote><p>If you follow an OGNL expression with a parenthesized expression, without a dot in front of the parentheses, OGNL will try to treat the result of the first expression as another expression to evaluate, and will use the result of the parenthesized expression as the root object for that evaluation. The result of the first expression may be any object; if it is an AST, OGNL assumes it is the parsed form of an expression and simply interprets it; otherwise, OGNL takes the string value of the object and parses that string to get the AST to interpret.</p></blockquote><p>å¦‚æœåœ¨ OGNL è¡¨è¾¾å¼åè·Ÿä¸€ä¸ªå¸¦æ‹¬å·çš„è¡¨è¾¾å¼ï¼Œå¹¶ä¸”æ‹¬å·å‰é¢æ²¡æœ‰ç‚¹ï¼ŒOGNL ä¼šä½¿ç”¨åé¢çš„è¡¨è¾¾å¼å¯¹å‰é¢è¡¨è¾¾å¼çš„ç»“æœè¿›è¡Œè®¡ç®—ï¼Œå¹¶å°†ä½¿ç”¨å¸¦æ‹¬å·çš„è¡¨è¾¾å¼çš„ç»“æœä½œä¸ºæ ¹å¯¹è±¡ (root)ã€‚ ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœå¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡ï¼› å¦‚æœå®ƒæ˜¯ ASTï¼ŒOGNL å‡å®šå®ƒæ˜¯è¡¨è¾¾å¼çš„è§£æå½¢å¼å¹¶ç®€å•åœ°è§£é‡Šå®ƒï¼› å¦åˆ™ï¼ŒOGNL è·å–å¯¹è±¡çš„å­—ç¬¦ä¸²å€¼å¹¶è§£æè¯¥å­—ç¬¦ä¸²ä»¥è·å–è¦è§£é‡Šçš„ ASTã€‚</p><blockquote><p>For example, this expression</p></blockquote><p>ä¾‹å¦‚ï¼Œè¿™ä¸ªè¡¨è¾¾å¼</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=err>#</span><span class=n>fact</span><span class=p>(</span><span class=n>30H</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>looks up the fact variable, and interprets the value of that variable as an OGNL expression using the BigInteger representation of 30 as the root object. See below for an example of setting the fact variable with an expression that returns the factorial of its argument. Note that there is an ambiguity in OGNL&rsquo;s syntax between this double evaluation operator and a method call. OGNL resolves this ambiguity by calling anything that looks like a method call, a method call. For example, if the current object had a fact property that held an OGNL factorial expression, you could not use this approach to call it</p></blockquote><p>æŸ¥æ‰¾åˆ° fact å˜é‡ï¼Œå¹¶ä½¿ç”¨ 30 ç±»å‹çš„ BigInteger æ ¼å¼è¿›è¡Œè½¬æ¢ï¼Œè®¡ç®—åå°†å€¼ä½œä¸ºæ ¹å¯¹è±¡(root)ã€‚è¯·å‚ç…§ä¸‹é¢çš„ç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹å°†å‚æ•°çš„é˜¶ä¹˜ç»“æœè¿”å›å€¼è®¾ç½®ä¸º fact å˜é‡çš„å€¼ã€‚ è¯·æ³¨æ„ï¼ŒOGNL è¯­æ³•ä¸­çš„åŒé‡æ±‚å€¼è¿ç®—ç¬¦å’Œæ–¹æ³•è°ƒç”¨ä¹‹é—´å­˜åœ¨æ­§ä¹‰ã€‚ OGNL é€šè¿‡è°ƒç”¨ä»»ä½•çœ‹èµ·æ¥åƒæ–¹æ³•è°ƒç”¨çš„ä¸œè¥¿æ¥è§£å†³è¿™ç§æ­§ä¹‰ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœå½“å‰å¯¹è±¡æœ‰ä¸€ä¸ªåŒ…å« OGNL é˜¶ä¹˜è¡¨è¾¾å¼çš„äº‹å®å±æ€§ï¼Œåˆ™æ— æ³•ä½¿ç”¨æ­¤æ–¹æ³•æ¥è°ƒç”¨å®ƒ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>fact</span><span class=p>(</span><span class=n>30H</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>because OGNL would interpret this as a call to the fact method. You could force the interpretation you want by surrounding the property reference by parentheses:</p></blockquote><p>å› ä¸º OGNL ä¼šå°†å…¶è§£é‡Šä¸ºå¯¹ fact æ–¹æ³•çš„è°ƒç”¨ã€‚ æ‚¨å¯ä»¥é€šè¿‡ç”¨æ‹¬å·å°†å±æ€§å¼•ç”¨æ‹¬èµ·æ¥æ¥å¼ºåˆ¶æ‰§è¡Œæ‚¨æƒ³è¦çš„è§£é‡Šï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=p>(</span><span class=n>fact</span><span class=p>)(</span><span class=n>30H</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=pseudo-lambda-expressionsä¼ª-lambda-è¡¨è¾¾å¼>Pseudo-Lambda Expressions(ä¼ª Lambda è¡¨è¾¾å¼)</h2><blockquote><p>OGNL has a simplified lambda-expression syntax, which lets you write simple functions. It is not a full-blown lambda calculus, because there are no closures&mdash;all variables in OGNL have global scope and extent.</p></blockquote><p>OGNL å…·æœ‰ç®€åŒ–çš„ lambda è¡¨è¾¾å¼è¯­æ³•ï¼Œå¯è®©æ‚¨ç¼–å†™ç®€å•çš„å‡½æ•°ã€‚ ä½†æ˜¯å®ƒä¸æ˜¯ä¸€ä¸ªæˆç†Ÿçš„ lambda æ¼”ç®—ï¼Œå› ä¸ºæ²¡æœ‰é—­åŒ…â€”â€”OGNL ä¸­çš„æ‰€æœ‰å˜é‡éƒ½å…·æœ‰å…¨å±€ä½œç”¨åŸŸå’ŒèŒƒå›´ã€‚</p><blockquote><p>For example, here is an OGNL expression that declares a recursive factorial function, and then calls it:</p></blockquote><p>ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå£°æ˜é€’å½’é˜¶ä¹˜å‡½æ•°çš„ OGNL è¡¨è¾¾å¼ï¼Œç„¶åè°ƒç”¨å®ƒï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=err>#</span><span class=n>fact</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=o>[</span><span class=err>#</span><span class=k>this</span><span class=o>&lt;=</span><span class=n>1</span><span class=o>?</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=err>#</span><span class=k>this</span><span class=o>*</span><span class=err>#</span><span class=n>fact</span><span class=p>(</span><span class=err>#</span><span class=k>this</span><span class=o>-</span><span class=n>1</span><span class=p>)</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=err>#</span><span class=n>fact</span><span class=p>(</span><span class=n>30H</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>The lambda expression is everything inside the brackets. The #this variable holds the argument to the expression, which is initially 30H, and is then one less for each successive call to the expression.</p></blockquote><p>lambda è¡¨è¾¾å¼æ˜¯æ‹¬å·å†…çš„æ‰€æœ‰å†…å®¹ã€‚ #this å˜é‡ä¿å­˜è¡¨è¾¾å¼çš„å‚æ•°ï¼Œæœ€åˆä¸º 30Hï¼Œç„¶åæ¯æ¬¡è¿ç»­è°ƒç”¨è¡¨è¾¾å¼æ—¶éƒ½ä¼šå‡ä¸€ã€‚</p><blockquote><p>OGNL treats lambda expressions as constants. The value of a lambda expression is the AST that OGNL uses as the parsed form of the contained expression.</p></blockquote><p>OGNL å°† lambda è¡¨è¾¾å¼è§†ä¸ºå¸¸é‡ã€‚ lambda è¡¨è¾¾å¼çš„å€¼æ˜¯ OGNL ç”¨ä½œæ‰€åŒ…å«è¡¨è¾¾å¼çš„è§£æå½¢å¼çš„ ASTã€‚</p><h2 id=pseudo-properties-for-collectionsé›†åˆçš„ä¼ªå±æ€§>Pseudo-Properties for Collections(é›†åˆçš„ä¼ªå±æ€§)</h2><blockquote><p>There are some special properties of collections that OGNL makes available. The reason for this is that the collections do not follow JavaBeans patterns for method naming; therefore the size(), length(), etc. methods must be called instead of more intuitively referring to these as properties. OGNL corrects this by exposing certain pseudo-properties as if they were built-in.</p></blockquote><p>OGNL æä¾›äº†ä¸€äº›ç‰¹æ®Šçš„é›†åˆå±æ€§ã€‚ å…¶åŸå› æ˜¯é›†åˆä¸éµå¾ª JavaBeans æ¨¡å¼è¿›è¡Œæ–¹æ³•å‘½åï¼› å› æ­¤ï¼Œå¿…é¡»è°ƒç”¨ size()ã€length() ç­‰æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ›´ç›´è§‚åœ°å°†å®ƒä»¬ç§°ä¸ºå±æ€§ã€‚ OGNL é€šè¿‡å…¬å¼€æŸäº›ä¼ªå±æ€§æ¥çº æ­£æ­¤é—®é¢˜ï¼Œå°±åƒå®ƒä»¬æ˜¯å†…ç½®çš„ä¸€æ ·ã€‚</p><blockquote><p>Special Collections Pseudo-Properties</p></blockquote><div class=table-wrapper><table><thead><tr><th style=text-align:left>Collection</th><th style=text-align:left>Special Properties</th></tr></thead><tbody><tr><td style=text-align:left>Collection (inherited by Map, List & Set)</td><td style=text-align:left>- size: The size of the collection<br>- isEmpty: Evaluates to true if the collection is empty</td></tr><tr><td style=text-align:left>List</td><td style=text-align:left>- iterator: Evalutes to an Iterator over the List.</td></tr><tr><td style=text-align:left>Map</td><td style=text-align:left>- keys: Evalutes to a Set of all keys in the Map<br>- values: Evaluates to a Collection of all values in the Map<br><strong>Note</strong> These properties, plus size and isEmpty, are different than the indexed form of access for Maps (i.e. someMap[&ldquo;size&rdquo;] gets the &ldquo;size&rdquo; key from the map, whereas someMap.size gets the size of the Map</td></tr><tr><td style=text-align:left>Set</td><td style=text-align:left>- iterator: Evalutes to an Iterator over the Set</td></tr><tr><td style=text-align:left>Iterator</td><td style=text-align:left>- next: Evalutes to the next object from the Iterator<br>- hasNext: Evaluates to true if there is a next object available from the Iterator</td></tr><tr><td style=text-align:left>Enumeration</td><td style=text-align:left>- next: Evalutes to the next object from the Enumeration<br>- hasNext: Evaluates to true if there is a next object available from the Enumeration<br>- nextElement: Synonym for next<br>- hasMoreElements: Synonym for hasNext</td></tr></tbody></table></div><p>ç‰¹æ®Šé›†åˆä¼ªå±æ€§</p><div class=table-wrapper><table><thead><tr><th style=text-align:left>Collection</th><th style=text-align:left>Special Properties</th></tr></thead><tbody><tr><td style=text-align:left>Collection (inherited by Map, List & Set)</td><td style=text-align:left>- size: é›†åˆçš„å¤§å°<br>- isEmpty: é›†åˆå¦‚æœä¸ºç©ºï¼Œè¿”å› true</td></tr><tr><td style=text-align:left>List</td><td style=text-align:left>- iterator: List çš„è¿­ä»£å™¨</td></tr><tr><td style=text-align:left>Map</td><td style=text-align:left>- keys: Map ä¸­æ‰€æœ‰ key çš„é›†åˆ<br>-values: Map ä¸­æ‰€æœ‰ value çš„é›†åˆ<br><strong>æ³¨æ„</strong> è¿™äº›å±æ€§ï¼ŒåŠ ä¸Š size å’Œ isEmptyï¼Œä¸ Map è®¿é—®çš„ç´¢å¼•å½¢å¼ä¸åŒï¼ˆå³ someMap[&ldquo;size&rdquo;] ä»æ˜ å°„ä¸­è·å– &ldquo;size"é”®ï¼Œè€Œ someMap.size è·å– Map çš„å¤§å°</td></tr><tr><td style=text-align:left>Set</td><td style=text-align:left>- iterator: Set çš„è¿­ä»£å™¨</td></tr><tr><td style=text-align:left>Iterator</td><td style=text-align:left>- next: è·å–è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå¯¹è±¡<br>- hasNext: å¦‚æœè¿­ä»£å™¨ä¸­æœ‰ä¸‹ä¸€ä¸ªå¯¹è±¡å¯ç”¨ï¼Œè¿”å› true</td></tr><tr><td style=text-align:left>Enumeration</td><td style=text-align:left>- next: æšä¸¾ä¸­çš„ä¸‹ä¸€ä¸ªå¯¹è±¡<br>- hasNext: å¦‚æœæšä¸¾ä¸­æœ‰ä¸‹ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å› true<br>- nextElement: next åˆ«å<br>- hasMoreElements: hasNext åˆ«å</td></tr></tbody></table></div><h2 id=operators-that-differ-from-javas-operatorsä¸-java-ä¸åŒçš„è¿ç®—ç¬¦>Operators that differ from Java&rsquo;s operators(ä¸ Java ä¸åŒçš„è¿ç®—ç¬¦)</h2><blockquote><p>For the most part, OGNL&rsquo;s operators are borrowed from Java and work similarly to Java&rsquo;s operators. See the OGNL Reference for a complete discussion. Here we describe OGNL operators that are not in Java, or that are different from Java.</p></blockquote><p>åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šï¼ŒOGNL çš„è¿ç®—ç¬¦æ˜¯ä» Java å€Ÿç”¨çš„ï¼Œå…¶å·¥ä½œæ–¹å¼ä¸ Java çš„è¿ç®—ç¬¦ç±»ä¼¼ã€‚ è¯·å‚é˜… OGNL å‚è€ƒä»¥è·å¾—å®Œæ•´çš„è®¨è®ºã€‚ è¿™é‡Œæˆ‘ä»¬æè¿° Java ä¸­æ²¡æœ‰çš„æˆ–ä¸ Java ä¸åŒçš„ OGNL è¿ç®—ç¬¦ã€‚</p><blockquote><ul><li>The comma (,) or sequence operator. This operator is borrowed from C. The comma is used to separate two independent expressions. The value of the second of these expressions is the value of the comma expression. Here is an example:</li></ul></blockquote><ul><li>é€—å· (,) æˆ–é¡ºåºè¿ç®—ç¬¦ã€‚ è¯¥è¿ç®—ç¬¦æ˜¯ä» C å€Ÿç”¨çš„ã€‚é€—å·ç”¨äºåˆ†éš”ä¸¤ä¸ªç‹¬ç«‹çš„è¡¨è¾¾å¼ã€‚ è¿™äº›è¡¨è¾¾å¼ä¸­ç¬¬äºŒä¸ªçš„å€¼æ˜¯é€—å·è¡¨è¾¾å¼çš„å€¼ã€‚ è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ensureLoaded</span><span class=p>(),</span><span class=w> </span><span class=n>name</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>When this expression is evaluated, the ensureLoaded method is called (presumably to make sure that all parts of the object are in memory), then the name property is retrieved (if getting the value) or replaced (if setting).</p></blockquote><p>å½“è®¡ç®—æ­¤è¡¨è¾¾å¼æ—¶ï¼Œå°†è°ƒç”¨ ensureLoaded æ–¹æ³•ï¼ˆå¤§æ¦‚æ˜¯ä¸ºäº†ç¡®ä¿å¯¹è±¡çš„æ‰€æœ‰éƒ¨åˆ†éƒ½åœ¨å†…å­˜ä¸­ï¼‰ï¼Œç„¶åæ£€ç´¢ name å±æ€§ï¼ˆå¦‚æœè·å–å€¼ï¼‰æˆ–æ›¿æ¢ï¼ˆå¦‚æœè®¾ç½®ï¼‰ã€‚</p><blockquote><ul><li>List construction with curly braces ({}). You can create a list in-line by enclosing the values in curly braces, as in this example:</li></ul></blockquote><ul><li>ä½¿ç”¨å¤§æ‹¬å· ({}) çš„åˆ—è¡¨ç»“æ„ã€‚ æ‚¨å¯ä»¥é€šè¿‡å°†å€¼æ‹¬åœ¨èŠ±æ‹¬å·ä¸­æ¥åˆ›å»ºå†…è”åˆ—è¡¨ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=p>{</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><ul><li>The in operator (and not in, its negation). This is a containment test, to see if a value is in a collection. For example,</li></ul></blockquote><ul><li><p>in è¿ç®—ç¬¦ï¼ˆå’Œ not inï¼Œå®ƒçš„å¦å®šï¼‰ã€‚ è¿™æ˜¯ä¸€ä¸ªåŒ…å«æµ‹è¯•ï¼Œç”¨äºæŸ¥çœ‹æŸä¸ªå€¼æ˜¯å¦åœ¨é›†åˆä¸­ã€‚ ä¾‹å¦‚ï¼Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>name</span><span class=w> </span><span class=n>in</span><span class=w> </span><span class=p>{</span><span class=kc>null</span><span class=p>,</span><span class=s>&#34;Untitled&#34;</span><span class=p>}</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>name</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=setting-values-versus-getting-valuesè®¾ç½®å€¼ä¸è·å–å€¼>Setting values versus getting values(è®¾ç½®å€¼ä¸è·å–å€¼)</h2><blockquote><p>As stated before, some values that are gettable are not also settable because of the nature of the expression. For example,</p></blockquote><p>å¦‚å‰æ‰€è¿°ï¼Œç”±äºè¡¨è¾¾å¼çš„æ€§è´¨ï¼Œæœ‰äº›å€¼åªèƒ½è·å–ä¸èƒ½è®¾ç½®ã€‚ ä¾‹å¦‚ï¼Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>names</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>.</span><span class=na>location</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>is a settable expression - the final component of the expression resolves to a settable property.</p></blockquote><p>æ˜¯ä¸€ä¸ªå¯è®¾ç½®çš„è¡¨è¾¾å¼ - å› ä¸ºè¡¨è¾¾å¼çš„æœ€ç»ˆç»„æˆéƒ¨åˆ†è§£æä¸ºå¯è®¾ç½®çš„å±æ€§ã€‚</p><blockquote><p>However, some expressions, such as</p></blockquote><p>ç„¶è€Œï¼Œæœ‰äº›è¡¨è¾¾å¼ï¼Œæ¯”å¦‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>names</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>.</span><span class=na>length</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>are not settable because they do not resolve to a settable property in an object. It is simply a computed value. If you try to evaluate this expression using any of the Ognl.setValue() methods it will fail with an InappropriateExpressionException.</p></blockquote><p>æ˜¯ä¸å¯è®¾ç½®å€¼çš„è¡¨è¾¾å¼ï¼Œå› ä¸ºå®ƒä»¬æ— æ³•è§£æä¸ºå¯¹è±¡ä¸­çš„å¯è®¾ç½®å±æ€§ã€‚ å®ƒåªæ˜¯ä¸€ä¸ªè®¡ç®—å€¼ã€‚ å¦‚æœæ‚¨å°è¯•ä½¿ç”¨ä»»ä½• Ognl.setValue() æ–¹æ³•è®¡ç®—æ­¤è¡¨è¾¾å¼ï¼Œå®ƒå°†å¤±è´¥å¹¶æŠ›å‡º InpropertiesExpressionExceptionã€‚</p><blockquote><p>It is also possible to set variables using get expressions that include the &lsquo;=&rsquo; operator. This is useful when a get expression needs to set a variable as a side effect of execution.</p></blockquote><p>è¿˜å¯ä»¥ä½¿ç”¨åŒ…å«â€œ=â€è¿ç®—ç¬¦çš„ get è¡¨è¾¾å¼æ¥è®¾ç½®å˜é‡ã€‚ å½“ get è¡¨è¾¾å¼éœ€è¦è®¾ç½®å˜é‡ä½œä¸ºæ‰§è¡Œçš„å‰¯ä½œç”¨æ—¶ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚</p><h2 id=coercing-objects-to-typeså¼ºè½¬å¯¹è±¡ç±»å‹>Coercing Objects to Types(å¼ºè½¬å¯¹è±¡ç±»å‹)</h2><blockquote><p>Here we describe how OGNL interprets objects as various types. See below for how OGNL coerces objects to booleans, numbers, integers, and collections.</p></blockquote><p>è¿™é‡Œæˆ‘ä»¬æè¿° OGNL å¦‚ä½•å°†å¯¹è±¡è§£é‡Šä¸ºå„ç§ç±»å‹ã€‚ è¯·å‚é˜…ä¸‹æ–‡ï¼Œäº†è§£ OGNL å¦‚ä½•å°†å¯¹è±¡å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€æ•°å­—ã€æ•´æ•°å’Œé›†åˆã€‚</p><h3 id=interpreting-objects-as-booleanså°†å¯¹è±¡è½¬ä¹‰ä¸ºå¸ƒå°”å€¼>Interpreting Objects as Booleans(å°†å¯¹è±¡è½¬ä¹‰ä¸ºå¸ƒå°”å€¼)</h3><blockquote><p>Any object can be used where a boolean is required. OGNL interprets objects as booleans like this:</p></blockquote><p>ä»»ä½•éœ€è¦å¸ƒå°”å€¼çš„å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨ã€‚ OGNL å°†å¯¹è±¡è§£é‡Šä¸ºå¸ƒå°”å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><ul><li>If the object is a Boolean, its value is extracted and returned;</li><li>If the object is a Number, its double-precision floating-point value is compared with zero; non-zero is treated as true, zero as false;</li><li>If the object is a Character, its boolean value is true if and only if its char value is non-zero;</li><li>Otherwise, its boolean value is true if and only if it is non-null.</li></ul></blockquote><ul><li>å¦‚æœå¯¹è±¡æ˜¯å¸ƒå°”å€¼(Boolean)ï¼Œåˆ™æå–å¹¶è¿”å›å…¶å€¼ï¼›</li><li>å¦‚æœå¯¹è±¡æ˜¯ Numberï¼Œåˆ™å°†å…¶åŒç²¾åº¦æµ®ç‚¹å€¼ä¸é›¶è¿›è¡Œæ¯”è¾ƒï¼› éé›¶è¢«è§†ä¸º trueï¼Œé›¶è¢«è§†ä¸º false;</li><li>å¦‚æœå¯¹è±¡æ˜¯ä¸€ä¸ªå­—ç¬¦(Character)ï¼Œå½“ä¸”ä»…å½“å…¶ char å€¼éé›¶æ—¶ï¼Œå…¶å¸ƒå°”å€¼ä¸º trueï¼›</li><li>å¦åˆ™ï¼Œå½“ä¸”ä»…å½“å®ƒä¸ä¸ºç©ºæ—¶ï¼Œå®ƒçš„å¸ƒå°”å€¼æ‰ä¸º trueã€‚</li></ul><h3 id=interpreting-objects-as-numberså°†å¯¹è±¡è½¬ä¹‰ä¸ºæ•°å­—>Interpreting Objects as Numbers(å°†å¯¹è±¡è½¬ä¹‰ä¸ºæ•°å­—)</h3><blockquote><p>Numerical operators try to treat their arguments as numbers. The basic primitive-type wrapper classes (Integer, Double, and so on, including Character and Boolean, which are treated as integers), and the &ldquo;big&rdquo; numeric classes from the java.math package (BigInteger and BigDecimal), are recognized as special numeric types. Given an object of some other class, OGNL tries to parse the object&rsquo;s string value as a number.</p></blockquote><p>æ•°å€¼è¿ç®—ç¬¦å°è¯•å°†å…¶å‚æ•°è§†ä¸ºæ•°å­—ã€‚ åŸºæœ¬åŸºå…ƒç±»å‹åŒ…è£…ç±»ï¼ˆIntegerã€Double ç­‰ï¼ŒåŒ…æ‹¬è¢«è§†ä¸ºæ•´æ•°çš„ Character å’Œ Booleanï¼‰ä»¥åŠ java.math åŒ…ä¸­çš„â€œå¤§â€æ•°å­—ç±»ï¼ˆBigInteger å’Œ BigDecimalï¼‰è¢«è¯†åˆ«ä¸º ç‰¹æ®Šçš„æ•°å­—ç±»å‹ã€‚ ç»™å®šæŸä¸ªå…¶ä»–ç±»çš„å¯¹è±¡ï¼ŒOGNL å°è¯•å°†å¯¹è±¡çš„å­—ç¬¦ä¸²å€¼è§£æä¸ºæ•°å­—ã€‚</p><blockquote><p>Numerical operators that take two arguments use the following algorithm to decide what type the result should be. The type of the actual result may be wider, if the result does not fit in the given type.</p></blockquote><p>é‡‡ç”¨ä¸¤ä¸ªå‚æ•°çš„æ•°å€¼è¿ç®—ç¬¦ä½¿ç”¨ä»¥ä¸‹ç®—æ³•æ¥å†³å®šç»“æœåº”è¯¥æ˜¯ä»€ä¹ˆç±»å‹ã€‚ å¦‚æœç»“æœä¸é€‚åˆç»™å®šç±»å‹ï¼Œåˆ™å®é™…ç»“æœçš„ç±»å‹å¯èƒ½æ›´å®½ã€‚</p><blockquote><ul><li>If both arguments are of the same type, the result will be of the same type if possible;</li><li>If either argument is not of a recognized numeric class, it will be treated as if it was a Double for the rest of this algorithm;</li><li>If both arguments are approximations to real numbers (Float, Double, or BigDecimal), the result will be the wider type;</li><li>If both arguments are integers (Boolean, Byte, Character, Short, Integer, Long, or BigInteger), the result will be the wider type;</li><li>If one argument is a real type and the other an integer type, the result will be the real type if the integer is narrower than &ldquo;int&rdquo;; BigDecimal if the integer is BigInteger; or the wider of the real type and Double otherwise.</li></ul></blockquote><ul><li>å¦‚æœä¸¤ä¸ªå‚æ•°çš„ç±»å‹ç›¸åŒï¼Œåˆ™ç»“æœå°†å°½å¯èƒ½å…·æœ‰ç›¸åŒçš„ç±»å‹ï¼›</li><li>å¦‚æœä»»ä¸€å‚æ•°ä¸å±äºå¯è¯†åˆ«çš„æ•°å­—ç±»ï¼Œåˆ™å¯¹äºè¯¥ç®—æ³•çš„å…¶ä½™éƒ¨åˆ†ï¼Œå®ƒå°†è¢«è§†ä¸º Doubleï¼›</li><li>å¦‚æœä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å®æ•°çš„è¿‘ä¼¼å€¼ï¼ˆFloatã€Double æˆ– BigDecimalï¼‰ï¼Œåˆ™ç»“æœå°†æ˜¯è¾ƒå®½çš„ç±»å‹ï¼›</li><li>å¦‚æœä¸¤ä¸ªå‚æ•°éƒ½æ˜¯æ•´æ•°ï¼ˆBooleanã€Byteã€Characterã€Shortã€Integerã€Long æˆ– BigIntegerï¼‰ï¼Œåˆ™ç»“æœå°†æ˜¯è¾ƒå®½çš„ç±»å‹ï¼›</li><li>å¦‚æœä¸€ä¸ªå‚æ•°æ˜¯å®æ•°ç±»å‹ï¼Œå¦ä¸€ä¸ªå‚æ•°æ˜¯æ•´æ•°ç±»å‹ï¼Œåˆ™å¦‚æœæ•´æ•°æ¯”â€œintâ€çª„ï¼Œåˆ™ç»“æœå°†ä¸ºå®æ•°ç±»å‹ï¼› å¦‚æœæ•´æ•°æ˜¯ BigIntegerï¼Œåˆ™ä¸º BigDecimalï¼› æˆ–å®é™…ç±»å‹çš„è¾ƒå®½è€…ï¼Œå¦åˆ™ä¸º Doubleã€‚</li></ul><h3 id=interpreting-objects-as-integerså°†å¯¹è±¡è½¬ä¹‰ä¸ºæ•´æ•°>Interpreting Objects as Integers(å°†å¯¹è±¡è½¬ä¹‰ä¸ºæ•´æ•°)</h3><blockquote><p>Operators that work only on integers, like the bit-shifting operators, treat their arguments as numbers, except that BigDecimals and BigIntegers are operated on as BigIntegers and all other kinds of numbers are operated on as Longs. For the BigInteger case, the result of these operators remains a BigInteger; for the Long case, the result is expressed as the same type of the arguments, if it fits, or as a Long otherwise.</p></blockquote><p>ä»…å¯¹æ•´æ•°èµ·ä½œç”¨çš„è¿ç®—ç¬¦ï¼ˆå¦‚ä½ç§»è¿ç®—ç¬¦ï¼‰å°†å…¶å‚æ•°è§†ä¸ºæ•°å­—ï¼Œä½† BigDecimal å’Œ BigIntegers ä½œä¸º BigIntegers è¿›è¡Œæ“ä½œï¼Œè€Œæ‰€æœ‰å…¶ä»–ç±»å‹çš„æ•°å­—å‡ä½œä¸º Long è¿›è¡Œæ“ä½œã€‚ å¯¹äº BigInteger æƒ…å†µï¼Œè¿™äº›è¿ç®—ç¬¦çš„ç»“æœä»ç„¶æ˜¯ BigIntegerï¼› å¯¹äº Long æƒ…å†µï¼Œç»“æœè¡¨ç¤ºä¸ºç›¸åŒç±»å‹çš„å‚æ•°ï¼ˆå¦‚æœé€‚åˆï¼‰ï¼Œå¦åˆ™è¡¨ç¤ºä¸º Longã€‚</p><h3 id=interpreting-objects-as-collectionså°†å¯¹è±¡è½¬ä¹‰ä¸ºé›†åˆ>Interpreting Objects as Collections(å°†å¯¹è±¡è½¬ä¹‰ä¸ºé›†åˆ)</h3><blockquote><p>The projection and selection operators (e1.{e2} and e1.{?e2}), and the in operator, all treat one of their arguments as a collection and walk it. This is done differently depending on the class of the argument:</p></blockquote><p>æŠ•å½±å’Œé€‰æ‹©è¿ç®—ç¬¦ï¼ˆe1.{e2} å’Œ e1.{?e2}ï¼‰ä»¥åŠ in è¿ç®—ç¬¦éƒ½å°†å…¶å‚æ•°ä¹‹ä¸€è§†ä¸ºé›†åˆå¹¶å¯¹å…¶è¿›è¡Œéå†ã€‚ æ ¹æ®å‚æ•°çš„ç±»åˆ«ï¼Œæ­¤æ“ä½œçš„å®Œæˆæ–¹å¼æœ‰æ‰€ä¸åŒï¼š</p><blockquote><ul><li>Java arrays are walked from front to back;</li><li>Members of java.util.Collection are walked by walking their iterators;</li><li>Members of java.util.Map are walked by walking iterators over their values;</li><li>Members of java.util.Iterator and java.util.Enumeration are walked by iterating them;</li><li>Members of java.lang.Number are &ldquo;walked&rdquo; by returning integers less than the given number starting with zero;</li><li>All other objects are treated as singleton collections containing only themselves.</li></ul></blockquote><ul><li>Java æ•°ç»„æ˜¯ä»å‰å¾€åèµ°çš„ï¼›</li><li>java.util.Collection çš„æˆå‘˜é€šè¿‡éå†å…¶è¿­ä»£å™¨æ¥éå†ï¼›</li><li>java.util.Map çš„æˆå‘˜é€šè¿‡éå†è¿­ä»£å™¨å¯¹å…¶å€¼è¿›è¡Œéå†ï¼›</li><li>java.util.Iterator å’Œ java.util.Enumeration çš„æˆå‘˜é€šè¿‡è¿­ä»£æ¥éå†ï¼›</li><li>java.lang.Number çš„æˆå‘˜é€šè¿‡è¿”å›å°äºä»é›¶å¼€å§‹çš„ç»™å®šæ•°å­—çš„æ•´æ•°æ¥â€œéå†â€ï¼›</li><li>æ‰€æœ‰å…¶ä»–å¯¹è±¡éƒ½è¢«è§†ä¸ºä»…åŒ…å«å…¶è‡ªèº«çš„å•ä¾‹é›†åˆã€‚</li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/ognl/>OGNL</a>
<a href=/tags/arthas/>Arthas</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/completable-future/><div class=article-details><h2 class=article-title>CompletableFuture</h2></div></a></article><article><a href=/post/rabbitmq/><div class=article-details><h2 class=article-title>RabbitMQ</h2></div></a></article><article><a href=/post/spring-boot/><div class=article-details><h2 class=article-title>Spring Boot</h2></div></a></article><article><a href=/post/distributed-lock/><div class=article-details><h2 class=article-title>åˆ†å¸ƒå¼é”</h2></div></a></article><article><a href=/post/thread-pool/><div class=article-details><h2 class=article-title>Java çº¿ç¨‹æ± </h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 Lucas's Article</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>